[//]: # (AUTO-GENERATED: Do not edit manually)
[//]: # (Generated by scripts/generate-api-docs.js)

**Package:** `f4ah6o/jww_parser/cmd/main`

## API Reference

### Exported Functions

The following functions are exported in the JavaScript/Wasm target:

#### `parse(data: Bytes) -> Document`

JWWファイルをパースしてドキュメントを取得

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `data (labeled)` | `Bytes` | |

**Returns:**

- `Document`

#### `to_json_string(jww_doc: Document) -> String`

JWWドキュメントをJSON文字列に変換

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `jww_doc (labeled)` | `Document` | |

**Returns:**

- `String`

### Types

#### `Arc`

円弧/円エンティティ (JWWクラス: CDataEnko)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `center_x` | `Double` |  |
| `center_y` | `Double` |  |
| `radius` | `Double` |  |
| `start_angle` | `Double` | ラジアン |
| `arc_angle` | `Double` | ラジアン |
| `tilt_angle` | `Double` | ラジアン（楕円の場合） |
| `flatness` | `Double` | 1.0は真円、それ以外は楕円 |
| `is_full_circle` | `Bool` |  |

#### `Block`

ブロック挿入エンティティ (JWWクラス: CDataBlock)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `ref_x` | `Double` | 挿入基準点X |
| `ref_y` | `Double` | 挿入基準点Y |
| `scale_x` | `Double` |  |
| `scale_y` | `Double` |  |
| `rotation` | `Double` | ラジアン |
| `def_number` | `UInt` | 参照先ブロック定義番号 |

#### `BlockDef`

ブロック定義

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `number` | `UInt` |  |
| `is_referenced` | `Bool` |  |
| `name` | `String` |  |
| `entities` | `Array[Entity]` |  |

#### `Document`

Documentのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `version` | `UInt` |  |
| `memo` | `String` |  |
| `paper_size` | `UInt` |  |
| `write_layer_group` | `UInt` |  |
| `layer_groups` | `Array[LayerGroup]` |  |
| `entities` | `Array[Entity]` |  |
| `block_defs` | `Array[BlockDef]` |  |
| `embedded_images` | `Array[EmbeddedImage]` |  |
| `print_settings` | `PrintSettings` |  |
| `sunpou_settings` | `SunpouSettings` |  |
| `metadata_settings` | `MetadataSettings` |  |

**Methods:**

- `default() -> Self`

#### `EmbeddedImage`

同梱画像データ (Ver.7.00+)

| Field | Type | Description |
|-------|------|-------------|
| `index` | `UInt` |  |
| `file_size` | `UInt` |  |
| `data` | `Bytes` |  |
| `format` | `ImageFormat` |  |

**Methods:**

- `base(Self) -> EntityBase`
- `type_name(Self) -> String`

#### `EntityBase`

EntityBaseのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `group` | `UInt` |  |
| `pen_style` | `Byte` |  |
| `pen_color` | `UInt16` |  |
| `pen_width` | `UInt16` |  |
| `layer` | `UInt16` |  |
| `layer_group` | `UInt16` |  |
| `flag` | `UInt16` |  |

**Methods:**

- `default() -> Self`

#### `Image`

画像エンティティ (CDataMojiの^@BM形式から変換)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `image_path` | `String` | 画像ファイルパス |
| `x` | `Double` | 挿入位置X |
| `y` | `Double` | 挿入位置Y |
| `width` | `Double` | 幅 |
| `height` | `Double` | 高さ |
| `rotation` | `Double` | 回転角度（度） |

#### `Layer`

Layerのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `state` | `UInt` |  |
| `protect` | `UInt` |  |
| `name` | `String` |  |

**Methods:**

- `default() -> Self`

#### `LayerGroup`

LayerGroupのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `state` | `UInt` |  |
| `write_layer` | `UInt` |  |
| `scale` | `Double` |  |
| `protect` | `UInt` |  |
| `layers` | `Array[Layer]` |  |
| `name` | `String` |  |

**Methods:**

- `default() -> Self`

#### `Line`

直線エンティティ (JWWクラス: CDataSen)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `start_x` | `Double` |  |
| `start_y` | `Double` |  |
| `end_x` | `Double` |  |
| `end_y` | `Double` |  |

#### `MetadataSettings`

MetadataSettingsのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `printer_paper_size` | `String` |  |
| `draw_bmp_touka` | `String` |  |
| `view_direct2d` | `String` |  |
| `printer_bmp_zentai` | `String` |  |
| `printer_orientation` | `String` |  |
| `printer_d2d_bmp` | `String` |  |

**Methods:**

- `default() -> Self`
- `to_string(Self) -> String`

#### `Point`

点エンティティ (JWWクラス: CDataTen)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `x` | `Double` |  |
| `y` | `Double` |  |
| `is_temporary` | `Bool` |  |
| `code` | `UInt` |  |
| `angle` | `Double` |  |
| `scale` | `Double` |  |

#### `PrintSettings`

印刷設定情報

| Field | Type | Description |
|-------|------|-------------|
| `origin_x` | `Double` |  |
| `origin_y` | `Double` |  |
| `scale` | `Double` |  |
| `rotation_setting` | `UInt` |  |

#### `Reader`

nバイト読み込む
データが不足している場合は空のBytesを返す

| Field | Type | Description |
|-------|------|-------------|
| `data` | `Array[Byte]` |  |

**Methods:**

- `has_remaining(Self) -> Bool`
- `length(Self) -> Int`
- `new(data: Bytes) -> Self`
- `position(Self) -> Int`
- `read_byte(Self) -> Byte`
- `read_bytes(Self, n: Int) -> Bytes`
- `read_double(Self) -> Double`
- `read_dword(Self) -> UInt`
- `read_uint64(Self) -> UInt64`
- `read_word(Self) -> UInt16`
- `remaining(Self) -> Int`
- `skip(Self, n: Int) -> Unit`

#### `Solid`

塗りつぶしエンティティ (JWWクラス: CDataSolid)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `point1_x` | `Double` |  |
| `point1_y` | `Double` |  |
| `point2_x` | `Double` |  |
| `point2_y` | `Double` |  |
| `point3_x` | `Double` |  |
| `point3_y` | `Double` |  |
| `point4_x` | `Double` |  |
| `point4_y` | `Double` |  |
| `color` | `UInt` | pen_color == 10の時使用 |

#### `SunpouSettings`

SunpouSettingsのデフォルト値

| Field | Type | Description |
|-------|------|-------------|
| `sunpou1` | `UInt` |  |
| `sunpou2` | `UInt` |  |
| `sunpou3` | `UInt` |  |
| `sunpou4` | `UInt` |  |
| `sunpou5` | `UInt` |  |
| `dummy` | `UInt` |  |
| `max_line_width` | `UInt` |  |

**Methods:**

- `default() -> Self`

#### `Text`

文字エンティティ (JWWクラス: CDataMoji)

| Field | Type | Description |
|-------|------|-------------|
| `base` | `EntityBase` |  |
| `start_x` | `Double` |  |
| `start_y` | `Double` |  |
| `end_x` | `Double` |  |
| `end_y` | `Double` |  |
| `text_type` | `UInt` | +10000でイタリック、+20000で太字 |
| `size_x` | `Double` |  |
| `size_y` | `Double` |  |
| `spacing` | `Double` | 文字間隔 |
| `angle` | `Double` | 回転角度（度） |
| `font_name` | `String` |  |
| `content` | `String` |  |

#### `Writer`

バッファをクリア

**Methods:**

- `clear(Self) -> Unit`
- `length(Self) -> Int`
- `new() -> Self`
- `to_bytes(Self) -> Bytes`
- `write_byte(Self, b: Byte) -> Unit`
- `write_bytes(Self, data: Bytes) -> Unit`
- `write_double(Self, d: Double) -> Unit`
- `write_dword(Self, d: UInt) -> Unit`
- `write_word(Self, w: UInt16) -> Unit`

#### `Entity`

エンティティタイプ名を取得

| Variant | Type | Description |
|---------|------|-------------|
| `Line` | `Line` |  |
| `Arc` | `Arc` |  |
| `Point` | `Point` |  |
| `Text` | `Text` |  |
| `Solid` | `Solid` |  |
| `Block` | `Block` |  |
| `Image` | `Image` |  |

#### `ImageFormat`

画像フォーマット種別（マジックバイトから検出）

| Variant | Type | Description |
|---------|------|-------------|
| `Unknown` | `-` | 未検出または不明 |
| `Jpeg` | `-` | JPEG形式 (FF D8 FF) |
| `Png` | `-` | PNG形式 (89 50 4E 47) |
| `Bmp` | `-` | BMP形式 (42 4D) |
| `Gif` | `-` | GIF形式 (47 49 46 38) |

#### `ParseError`

エラーメッセージを取得

| Variant | Type | Description |
|---------|------|-------------|
| `InvalidSignature` | `-` |  |
| `UnsupportedVersion` | `UInt` |  |
| `UnknownClassPid` | `UInt` |  |
| `UnknownEntityClass` | `String` |  |
| `UnexpectedEof` | `-` |  |
| `IoError` | `String` |  |
| `Other` | `String` |  |

### Type Aliases

- `List` = `List[List`
- `RandomState` = `@splitmix.RandomState`
- `LazyList` = `@lazy.LazyList`

## Usage Example

```typescript
import { parse, to_json_string } from 'jww-parser';

// Parse JWW file
const fileData = await fetch('drawing.jww').then(r => r.arrayBuffer());
const doc = parse(new Uint8Array(fileData));

console.log('Version:', doc.version);
console.log('Entities:', doc.entities.length);
```

